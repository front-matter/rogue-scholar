{#
  Copyright (C) 2021 CERN.
  Copyright (C) 2021 Northwestern University.

  Invenio App RDM is free software; you can redistribute it and/or modify it
  under the terms of the MIT License; see LICENSE file for more details.
#}
{%- set title = _("Search guide") %}
{%- extends config.BASE_TEMPLATE %}

{%- block page_body %}
<div class="ui container mt-25">
  <h1>Sökguide</h1>
  <p>
    Denna guide förklarar hur du skriver avancerade sökfrågor
    med hjälp av lättförståeliga exempel.
  </p>
  <h3>Enkel sökning (en eller flera termer)</h3>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=open%20science"
      ><code>open science</code></a
    >
  </p>
  <p>
    Resultaten matchar poster som innehåller <em>termerna</em> <code>open</code>
    <em>eller</em> <code>science</code> i <em>valfritt fält</em>. Observera att
    lemmatisering tillämpas, så till exempel matchar <code>science</code> även
    <code>sciences</code>. Sökresultaten rangordnas enligt en algoritm
    som tar hänsyn till dina söktermer.
  </p>
  <p>
    Du kan kräva <em>närvaro</em> av båda termerna med hjälp av operatorn
    <code>+</code> eller <code>AND</code>:
  </p>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=%2Bopen%20%2Bscience"
      ><code>+open +science</code></a
    >
    eller
    <a href="/search?page=1&amp;size=20&amp;q=open%20AND%20science"
      ><code>open AND science</code></a
    >
  </p>
  <p>
    Du kan kräva <em>frånvaro</em> av en eller flera termer med hjälp av operatorn
    <code>-</code> eller <code>NOT</code>:
  </p>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=-open%20%2Bscience"
      ><code>-open +science</code></a
    >
    eller
    <a href="/search?page=1&amp;size=20&amp;q=NOT%20open%20AND%20science"
      ><code>NOT open AND science</code></a
    >
  </p>
  <h3>Frassökning</h3>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=%22open%20science%22"
      ><code>"open science"</code></a
    >
  </p>
  <p>
    Resultaten matchar poster som innehåller <em>frasen</em>
    <code>open science</code> i <em>valfritt fält</em>.
  </p>
  <h3>Fältsökning</h3>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=metadata.title:open"
      ><code>metadata.title:open</code></a
    >
  </p>
  <p>
    Resultaten matchar poster som innehåller <em>termen</em> <code>open</code> i
    <em>fältet</em> <code>metadata.title</code>. Om du vill söka efter flera termer
    i titeln måste du <strong>gruppera termerna</strong> med parenteser:
  </p>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=metadata.title:(open%20science%29"
      ><code>metadata.title:(open science)</code></a
    >
  </p>
  <p>
    Se fältreferensen nedan för den fullständiga listan över fält du kan söka i.
  </p>
  <h3>Fulltextsökning</h3>
  <p>
    <strong>Exempel:</strong>
    <a href='/search?page=1&amp;size=20&amp;q=content:"Marie Curie"'
      ><code>content:"Marie Curie"</code></a
    >
  </p>
  <p>
    Resultaten matchar poster som innehåller <em>frasen</em> <code>Marie Curie</code> i
    <code>innehållet</code>. Om du vill söka efter en exakt matchning av flera ord
    (t.ex. en persons namn) måste du omge frasen med dubbla citattecken.
  </p>
  <h3>Sökning efter persistent identifierare</h3>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=doi:10.59350/b7mtv-gpn88"
      ><code>doi:10.59350/b7mtv-gpn88</code></a
    >
  </p>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=orcid:0000-0001-7542-0286"
      ><code>orcid:0000-0001-7542-0286</code></a
    >
  </p>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=ror:00vtgdb53"
      ><code>ror:00vtgdb53</code></a
    >
  </p>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=issn:3033-3695"
      ><code>issn:3033-3695</code></a
    >
  </p>
  <p>
    Sök efter de persistenta identifierarna <em>doi</em>, <em>orcid</em>, <em>ror</em> eller
    <em>issn</em>. <em>doi</em> är postens externa identifierare, <em>orcid</em> är
    författaridentifieraren för en av postens författare, <em>ror</em> är
    institutionsidentifieraren för en av författarnas affilieringar, och <em>issn</em> är
    identifieraren för postens periodiska publikation.
  </p>
  <h3>Kombination av enkel, fras- eller fältsökning</h3>
  <p>
    <strong>Exempel:</strong>
    <a
      href="/search?page=1&amp;size=20&amp;q=%2Bmetadata.title:%22open%20science%22%20-metadata.title:policy"
      ><code>+metadata.title:"open science" -metadata.title:policy</code></a
    >
    eller till exempel
    <a href="/search?page=1&amp;size=20&amp;q=metadata.title:(-open%20%2Bscience%29"
      ><code>metadata.title:(-open +science)</code></a
    >
  </p>
  <p>
    Du kan kombinera enkla sökningar, frassökningar och fältsökningar för att bygga
    avancerade sökfrågor.
  </p>
  <h3>Intervallsökning</h3>
  <p>
    <strong>Exempel:</strong>
    <a
      href="/search?page=1&amp;size=20&amp;q=metadata.publication_date:%5B2017%20TO%202018%5D"
      ><code>metadata.publication_date:[2017 TO 2018]</code></a
    >
    (observera att <code>TO</code> måste skrivas med versaler).
  </p>
  <p>
    Resultaten matchar alla poster vars publiceringsdatum
    ligger mellan 2017-01-01 och 2018-01-01 (båda datumen inkluderade).
  </p>
  <p>Observera att ofullständiga datum expanderas till fullständiga datum, till exempel:</p>
  <ul>
    <li>2017 expanderas till 2017-01-01</li>
    <li>2017-06 expanderas till 2017-06-01</li>
  </ul>
  <p>
    Använd hakparenteser (<code>[]</code>) för <em>inkluderande</em> intervall och
    klammerparenteser (<code>{}</code>) för <em>exkluderande</em> intervall, till exempel:
  </p>
  <ul>
    <li>
      <code>[2017 TO 2018}</code> är ekvivalent med
      <code>[2017-01-01 TO 2017-12-31]</code> på grund av datumexpansion och
      den exkluderande övre gränsen.
    </li>
  </ul>
  <p>Exempel på andra intervall:</p>
  <ul>
    <li>
      <code>metadata.publication_date:{* TO 2017-01-01}</code>: Alla dagar till 2017.
    </li>
    <li>
      <code>metadata.publication_date:[2017-01-01 TO *]</code>: Alla dagar från 2017.
    </li>
  </ul>
  <h3>Rangordning/Sortering</h3>
  <p>
    Som standard sorteras alla sökningar enligt en intern rangordningsalgoritm
    som poängsätter varje träff i förhållande till din fråga. Både i
    användargränssnittet och i REST API:et är det möjligt att sortera resultaten efter:
  </p>
  <ul>
    <li>Bästa matchning</li>
    <li>Nyaste</li>
    <li>Äldsta</li>
    <li>Nyligen uppdaterad</li>
    <li>Minst nyligen uppdaterad</li>
    <li>Nyligen tillagd</li>
    <li>Minst nyligen tillagd</li>
  </ul>
  <h3>Reguljära uttryck</h3>
  <p>
    Reguljära uttryck är ett kraftfullt mönstermatchningsspråk som gör det möjligt
    att söka efter specifika mönster i ett fält. Om vi till exempel vill hitta
    alla poster med DOI-prefixet 10.59350 kan vi använda en sökning med
    reguljärt uttryck:
  </p>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=pids.doi.identifier%3A%2F10.59350.%2A%2F"
      ><code>pids.doi.identifier:/10.59350.*/</code></a
    >
  </p>
  <p>
    Observera att det reguljära uttrycket måste matcha fältets <em>fullständiga</em> värde.
    Se OpenSearch-dokumentationen om
    <a
      href="https://opensearch.org/docs/latest/query-dsl/term/regexp/"
      >syntax för reguljära uttryck</a
    >
    för mer information.
  </p>
  <h3>Saknade värden</h3>
  <p>
    Det är möjligt att söka efter poster som saknar ett värde eller har
    ett värde i ett specifikt fält med hjälp av fältnamnen
    <code>_exists_</code> och <code>not _exists_</code>.
  </p>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=not%20_exists_:metadata.additional_titles"
      ><code>not _exists_:metadata.additional_titles</code></a
    >
    (alla poster utan metadata.additional_titles)
  </p>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=_exists_:metadata.creators"
      ><code>_exists_:metadata.creators</code></a
    >
    (alla poster med metadata.creators)
  </p>
  <h3>Avancerade koncept</h3>
  <h4>Förstärkning</h4>
  <p>
    Du kan använda förstärkningsoperatorn <code>^</code> när en term är mer
    relevant än en annan. Du kan till exempel söka efter alla poster med frasen
    <em>open science</em> i fältet <em>titel</em> eller
    <em>beskrivning</em>, men rangordna poster med frasen i fältet
    <em>titel</em> högre:
  </p>
  <p>
    <strong>Exempel:</strong>
    <a
      href="/search?page=1&amp;size=20&amp;q=metadata.title:%22open%20science%22%5E5%20metadata.description:%22open%20science%22"
      ><code>metadata.title:"open science"^5 metadata.description:"open science"</code></a
    >
  </p>
  <h4>Luddig sökning</h4>
  <p>
    Du kan söka efter termer som liknar men inte är exakt samma som din
    sökterm med hjälp av den luddiga operatorn <code>~</code>.
  </p>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=oepn~"><code>oepn~</code></a>
  </p>
  <p>
    Resultaten matchar poster som innehåller termer liknande
    <code>oepn</code>, vilket till exempel även matchar <code>open</code>.
  </p>
  <h4>Närhetssökning</h4>
  <p>
    En frassökning som <code>"open science"</code> förväntar sig som standard att alla
    termer är i exakt samma ordning, och matchar därför inte en post som innehåller
    frasen <em>"open access and science"</em>. En närhetssökning tillåter att
    termerna inte är i exakt ordning och kan inkludera andra termer mellan dem.
    Graden av flexibilitet anges med ett heltal:
  </p>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=%22open%20science%22~5"
      ><code>"open science"~5</code></a
    >
  </p>
  <h4>Jokertecken</h4>
  <p>
    Du kan använda jokertecken i söktermer för att ersätta ett enskilt tecken
    (med operatorn <code>?</code>) eller noll eller fler tecken (med
    operatorn <code>*</code>).
  </p>
  <p>
    <strong>Exempel:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=ope%3F%20scien*"
      ><code>ope? scien*</code></a
    >
  </p>
  <p>
    Sökningar med jokertecken kan vara långsamma och bör normalt undvikas om möjligt.
  </p>
</div>
{%- endblock page_body%}
