{#
  Copyright (C) 2021 CERN.
  Copyright (C) 2021 Northwestern University.

  Invenio App RDM is free software; you can redistribute it and/or modify it
  under the terms of the MIT License; see LICENSE file for more details.
#}
{%- set title = _("Search guide") %}
{%- extends config.BASE_TEMPLATE %}

{%- block page_body %}
<div class="ui container mt-25">
  <h1>Guida alla ricerca</h1>
  <p>
    Questa guida spiega come scrivere query di ricerca avanzate
    utilizzando esempi facili da comprendere.
  </p>
  <h3>Ricerca semplice (uno o più termini)</h3>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=open%20science"
      ><code>open science</code></a
    >
  </p>
  <p>
    I risultati corrisponderanno ai record che contengono i <em>termini</em> <code>open</code>
    <em>o</em> <code>science</code> in <em>qualsiasi campo</em>. Si noti che viene applicata
    la lemmatizzazione, quindi ad esempio <code>science</code> corrisponderà anche a
    <code>sciences</code>. I risultati della ricerca sono classificati secondo un algoritmo
    che tiene conto dei termini di ricerca.
  </p>
  <p>
    È possibile richiedere la <em>presenza</em> di entrambi i termini utilizzando l'operatore
    <code>+</code> o <code>AND</code>:
  </p>
  <p>
    <strong>Esempi:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=%2Bopen%20%2Bscience"
      ><code>+open +science</code></a
    >
    oppure
    <a href="/search?page=1&amp;size=20&amp;q=open%20AND%20science"
      ><code>open AND science</code></a
    >
  </p>
  <p>
    È possibile richiedere l'<em>assenza</em> di uno o più termini utilizzando l'operatore
    <code>-</code> o <code>NOT</code>:
  </p>
  <p>
    <strong>Esempi:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=-open%20%2Bscience"
      ><code>-open +science</code></a
    >
    oppure
    <a href="/search?page=1&amp;size=20&amp;q=NOT%20open%20AND%20science"
      ><code>NOT open AND science</code></a
    >
  </p>
  <h3>Ricerca per frase</h3>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=%22open%20science%22"
      ><code>"open science"</code></a
    >
  </p>
  <p>
    I risultati corrisponderanno ai record che contengono la <em>frase</em>
    <code>open science</code> in <em>qualsiasi campo</em>.
  </p>
  <h3>Ricerca per campo</h3>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=metadata.title:open"
      ><code>metadata.title:open</code></a
    >
  </p>
  <p>
    I risultati corrisponderanno ai record che contengono il <em>termine</em> <code>open</code> nel
    <em>campo</em> <code>metadata.title</code>. Se si desidera cercare più termini
    nel titolo, è necessario <strong>raggruppare i termini</strong> usando le parentesi:
  </p>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=metadata.title:(open%20science%29"
      ><code>metadata.title:(open science)</code></a
    >
  </p>
  <p>
    Consultare il riferimento ai campi di seguito per l'elenco completo dei campi in cui è possibile cercare.
  </p>
  <h3>Ricerca nel testo integrale</h3>
  <p>
    <strong>Esempio:</strong>
    <a href='/search?page=1&amp;size=20&amp;q=content:"Marie Curie"'
      ><code>content:"Marie Curie"</code></a
    >
  </p>
  <p>
    I risultati corrisponderanno ai record che contengono la <em>frase</em> <code>Marie Curie</code> nel
    <code>contenuto</code>. Se si desidera cercare una corrispondenza esatta di più parole
    (ad esempio il nome di una persona), è necessario racchiudere la frase tra virgolette doppie.
  </p>
  <h3>Ricerca per identificatore persistente</h3>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=doi:10.59350/b7mtv-gpn88"
      ><code>doi:10.59350/b7mtv-gpn88</code></a
    >
  </p>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=orcid:0000-0001-7542-0286"
      ><code>orcid:0000-0001-7542-0286</code></a
    >
  </p>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=ror:00vtgdb53"
      ><code>ror:00vtgdb53</code></a
    >
  </p>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=issn:3033-3695"
      ><code>issn:3033-3695</code></a
    >
  </p>
  <p>
    Cerca gli identificatori persistenti <em>doi</em>, <em>orcid</em>, <em>ror</em> o
    <em>issn</em>. Il <em>doi</em> è l'identificatore esterno del record, l'<em>orcid</em> è
    l'identificatore autore per uno degli autori del record, il <em>ror</em> è l'identificatore
    dell'istituzione per una delle affiliazioni degli autori, e l'<em>issn</em> è l'identificatore
    della pubblicazione periodica del record.
  </p>
  <h3>Combinazione di ricerca semplice, per frase o per campo</h3>
  <p>
    <strong>Esempio:</strong>
    <a
      href="/search?page=1&amp;size=20&amp;q=%2Bmetadata.title:%22open%20science%22%20-metadata.title:policy"
      ><code>+metadata.title:"open science" -metadata.title:policy</code></a
    >
    oppure ad esempio
    <a href="/search?page=1&amp;size=20&amp;q=metadata.title:(-open%20%2Bscience%29"
      ><code>metadata.title:(-open +science)</code></a
    >
  </p>
  <p>
    È possibile combinare ricerche semplici, per frase e per campo per costruire
    query di ricerca avanzate.
  </p>
  <h3>Ricerca per intervallo</h3>
  <p>
    <strong>Esempio:</strong>
    <a
      href="/search?page=1&amp;size=20&amp;q=metadata.publication_date:%5B2017%20TO%202018%5D"
      ><code>metadata.publication_date:[2017 TO 2018]</code></a
    >
    (si noti che <code>TO</code> deve essere in maiuscolo).
  </p>
  <p>
    I risultati corrisponderanno a qualsiasi record la cui data di pubblicazione
    sia compresa tra 2017-01-01 e 2018-01-01 (entrambe le date incluse).
  </p>
  <p>Si noti che le date parziali vengono espanse a date complete, ad esempio:</p>
  <ul>
    <li>2017 viene espanso a 2017-01-01</li>
    <li>2017-06 viene espanso a 2017-06-01</li>
  </ul>
  <p>
    Usare parentesi quadre (<code>[]</code>) per intervalli <em>inclusivi</em> e parentesi graffe
    (<code>{}</code>) per intervalli <em>esclusivi</em>, ad esempio:
  </p>
  <ul>
    <li>
      <code>[2017 TO 2018}</code> è equivalente a
      <code>[2017-01-01 TO 2017-12-31]</code> a causa dell'espansione delle date e
      del limite superiore esclusivo.
    </li>
  </ul>
  <p>Esempi di altri intervalli:</p>
  <ul>
    <li>
      <code>metadata.publication_date:{* TO 2017-01-01}</code>: Tutti i giorni fino al 2017.
    </li>
    <li>
      <code>metadata.publication_date:[2017-01-01 TO *]</code>: Tutti i giorni dal 2017.
    </li>
  </ul>
  <h3>Classificazione/Ordinamento</h3>
  <p>
    Per impostazione predefinita, tutte le ricerche sono ordinate secondo un algoritmo
    di classificazione interno che assegna un punteggio a ciascun risultato in base alla
    query. Sia nell'interfaccia utente che nell'API REST è possibile ordinare i risultati per:
  </p>
  <ul>
    <li>Migliore corrispondenza</li>
    <li>Più recente</li>
    <li>Più vecchio</li>
    <li>Aggiornato di recente</li>
    <li>Aggiornato meno di recente</li>
    <li>Aggiunto di recente</li>
    <li>Aggiunto meno di recente</li>
  </ul>
  <h3>Espressioni regolari</h3>
  <p>
    Le espressioni regolari sono un potente linguaggio di corrispondenza di pattern che
    permette di cercare pattern specifici in un campo. Ad esempio, se volessimo trovare
    tutti i record con il prefisso DOI 10.59350, potremmo usare una ricerca con espressione
    regolare:
  </p>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=pids.doi.identifier%3A%2F10.59350.%2A%2F"
      ><code>pids.doi.identifier:/10.59350.*/</code></a
    >
  </p>
  <p>
    Attenzione, l'espressione regolare deve corrispondere al valore <em>completo</em> del campo.
    Consultare la documentazione di OpenSearch sulla
    <a
      href="https://opensearch.org/docs/latest/query-dsl/term/regexp/"
      >sintassi delle espressioni regolari</a
    >
    per ulteriori dettagli.
  </p>
  <h3>Valori mancanti</h3>
  <p>
    È possibile cercare record a cui manca un valore o che hanno
    un valore in un campo specifico utilizzando i nomi di campo
    <code>_exists_</code> e <code>not _exists_</code>.
  </p>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=not%20_exists_:metadata.additional_titles"
      ><code>not _exists_:metadata.additional_titles</code></a
    >
    (tutti i record senza metadata.additional_titles)
  </p>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=_exists_:metadata.creators"
      ><code>_exists_:metadata.creators</code></a
    >
    (tutti i record con metadata.creators)
  </p>
  <h3>Concetti avanzati</h3>
  <h4>Potenziamento</h4>
  <p>
    È possibile usare l'operatore di potenziamento <code>^</code> quando un termine è più
    rilevante di un altro. Ad esempio, è possibile cercare tutti i record con la frase
    <em>open science</em> nel campo <em>titolo</em> o
    <em>descrizione</em>, ma classificare più in alto i record con la frase nel
    campo <em>titolo</em>:
  </p>
  <p>
    <strong>Esempio:</strong>
    <a
      href="/search?page=1&amp;size=20&amp;q=metadata.title:%22open%20science%22%5E5%20metadata.description:%22open%20science%22"
      ><code>metadata.title:"open science"^5 metadata.description:"open science"</code></a
    >
  </p>
  <h4>Ricerca fuzzy</h4>
  <p>
    È possibile cercare termini simili ma non esattamente uguali al termine di
    ricerca utilizzando l'operatore fuzzy <code>~</code>.
  </p>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=oepn~"><code>oepn~</code></a>
  </p>
  <p>
    I risultati corrisponderanno ai record che contengono termini simili a
    <code>oepn</code>, il che corrisponderà anche ad esempio a <code>open</code>.
  </p>
  <h4>Ricerca per prossimità</h4>
  <p>
    Una ricerca per frase come <code>"open science"</code> si aspetta per impostazione predefinita
    che tutti i termini siano esattamente nello stesso ordine, e quindi non corrisponderebbe
    a un record contenente la frase <em>"open access and science"</em>. Una ricerca per
    prossimità consente ai termini di non essere nell'ordine esatto e di includere altri
    termini tra di loro. Il grado di flessibilità è specificato da un numero intero:
  </p>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=%22open%20science%22~5"
      ><code>"open science"~5</code></a
    >
  </p>
  <h4>Caratteri jolly</h4>
  <p>
    È possibile usare caratteri jolly nei termini di ricerca per sostituire un singolo
    carattere (usando l'operatore <code>?</code>) o zero o più caratteri (usando
    l'operatore <code>*</code>).
  </p>
  <p>
    <strong>Esempio:</strong>
    <a href="/search?page=1&amp;size=20&amp;q=ope%3F%20scien*"
      ><code>ope? scien*</code></a
    >
  </p>
  <p>
    Le ricerche con caratteri jolly possono essere lente e normalmente dovrebbero essere evitate se possibile.
  </p>
</div>
{%- endblock page_body%}
